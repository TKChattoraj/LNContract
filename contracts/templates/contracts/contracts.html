{% extends "contracts/base.html" %}
{% block main %}


<!--

context={'contracts': [(contract object, entity object, entity object)], 'connect': ''}  connect has an empty string at first


access the data by referring to the context key.  In this case, contracts, is a list of tupples show above.

-->

    <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
        <h2>Contract</h2>
        <div class="table-responsive">
          <table class="table table-striped table-sm">
            <thead>
              <tr>
                <th scope="col">Contract Number</th>
                <th scope="col">Description</th>
                <th scope="col">Party</th>
                <th scope="col">Counterparty</th>
                <th scope="col">Status</th>
                <th scope="col">Action</th>
                </th>
              </tr>
            </thead>
            <tbody>
              {% for t in contracts %} <!-- do for each tuple (contract, party, counterparty) in contracts-->
              <tr>
                <td>{{t.0.contract_no}}</td>
                <td>{{t.0.description}}</td> 
                <td>{{t.1.name}}</td>                   
                <td>{{t.2.name}}</td>  
                <td>{{t.0.status}}</td>
                <td scope="col">
                    <a class="nav-link" href="/contracts/{{t.0.pk}}" %}>   
                      Go To
                      <span data-feather="arrow-right" class="align-text-bottom"></span>
                    </a>
                </td>
              </tr>
              {% endfor %}
              
            </tbody>
          </table>
        </div>
    </main>
    {% endblock %}

